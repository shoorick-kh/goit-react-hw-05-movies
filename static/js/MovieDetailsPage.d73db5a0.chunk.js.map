{"version":3,"file":"static/js/MovieDetailsPage.d73db5a0.chunk.js","mappings":"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","sources":["services/apiService.js","webpack://goit-react-hw-05-movies/./src/views/MovieDetailsPage/MovieDetailsPage.module.css?8c08","webpack://goit-react-hw-05-movies/./src/components/Movie/Movie.module.css?e0b9","components/Movie/Movie.js","views/MovieDetailsPage/MovieDetailsPage.js"],"sourcesContent":["const KEY = '23a6887a211ddc55a1dd6d751fafcbf6';\nconst baseUrl = 'https://api.themoviedb.org/3';\n\nfunction getTrendingMovies() {\n  return fetch(`${baseUrl}/trending/movie/day?api_key=${KEY}`).then(\n    response => {\n      if (response.ok) {\n        return response.json();\n      }\n      return Promise.reject(new Error(`There is no data!`));\n    }\n  );\n}\n\nfunction getMovieDetails(id) {\n  return fetch(`${baseUrl}/movie/${id}?api_key=${KEY}&language=en-US`).then(\n    response => {\n      if (response.ok) {\n        return response.json();\n      }\n      return Promise.reject(new Error(`There is no data!`));\n    }\n  );\n}\n\nfunction getCast(id) {\n  return fetch(\n    `${baseUrl}/movie/${id}/credits?api_key=${KEY}&language=en-US`\n  ).then(response => {\n    if (response.ok) {\n      return response.json();\n    }\n    return Promise.reject(new Error(`There is no data!`));\n  });\n}\n\nfunction getReviews(id) {\n  return fetch(\n    `${baseUrl}/movie/${id}/reviews?api_key=${KEY}&language=en-US`\n  ).then(response => {\n    if (response.ok) {\n      return response.json();\n    }\n    return Promise.reject(new Error(`There is no data!`));\n  });\n}\n\nfunction getMovieByQuery(query) {\n  return fetch(\n    `${baseUrl}/search/movie?api_key=${KEY}&language=en-US&page=1&include_adult=false&query=${query}`\n  ).then(response => {\n    if (response.ok) {\n      return response.json();\n    }\n    return Promise.reject(new Error(`There is no data!`));\n  });\n}\n\nexport {\n  getTrendingMovies,\n  getMovieDetails,\n  getCast,\n  getReviews,\n  getMovieByQuery,\n};\n","// extracted by mini-css-extract-plugin\nexport default {\"link\":\"MovieDetailsPage_link__GbpAo\",\"list\":\"MovieDetailsPage_list__R9CoZ\",\"item\":\"MovieDetailsPage_item__HuPz6\"};","// extracted by mini-css-extract-plugin\nexport default {\"container\":\"Movie_container__lWqPt\",\"image\":\"Movie_image__WTy9W\",\"movieInfo\":\"Movie_movieInfo__j+Jsu\"};","import propTypes from 'prop-types';\nimport s from './Movie.module.css';\n\nexport default function Movie({ movie }) {\n  return (\n    <>\n      <div className={s.container}>\n        <div className={s.poster}>\n          <img\n            className={s.image}\n            src={\n              movie.poster_path\n                ? `https://image.tmdb.org/t/p/w300${movie.poster_path}`\n                : 'https://dummyimage.com/300x450/c7c7c7/0011ff&text=No+image'\n            }\n            alt={movie.title}\n          />\n        </div>\n        <div className={s.movieInfo}>\n          <h2>\n            {movie.title} ({movie.release_date.slice(0, 4)})\n          </h2>\n          <p>User Score: {movie.vote_average * 10}%</p>\n          <h3>Overview</h3>\n          <p>{movie.overview}</p>\n          <h4>Genres</h4>\n          <ul>\n            {movie.genres.map(({ id, name }) => {\n              return <li key={id}>{name}</li>;\n            })}\n          </ul>\n        </div>\n      </div>\n    </>\n  );\n}\n\nMovie.propTypes = {\n  movie: propTypes.object.isRequired,\n};\n","import { useEffect, useState } from 'react';\n\nimport {\n  NavLink,\n  Route,\n  Routes,\n  useNavigate,\n  useParams,\n  useLocation,\n  Outlet,\n} from 'react-router-dom';\nimport s from './MovieDetailsPage.module.css';\nimport Loader from 'components/Loader/Loader';\nimport Movie from 'components/Movie/Movie';\nimport { getMovieDetails } from 'services/apiService';\nimport { lazy, Suspense } from 'react/cjs/react.production.min';\n\nconst Cast = lazy(() =>\n  import('components/Cast/Cast' /* webpackChunkName: \"Cast\"*/)\n);\nconst Reviews = lazy(() =>\n  import('components/Reviews/Reviews' /* webpackChunkName: \"Reviews\"*/)\n);\n\nexport default function MovieDetailsPage() {\n  const [movie, setMovie] = useState(null);\n  const [status, setStatus] = useState('idle');\n  const [error, setError] = useState();\n  const { movieId } = useParams();\n\n  const navigate = useNavigate();\n  const location = useLocation();\n\n  function handleGoBack() {\n    navigate(location.state?.from ?? '/');\n  }\n\n  useEffect(() => {\n    setStatus('pending');\n    getMovieDetails(movieId)\n      .then(film => {\n        setMovie(film);\n        setStatus('resolved');\n      })\n      .catch(error => {\n        setError(error);\n        setStatus('rejected');\n      });\n  }, [movieId]);\n\n  if (status === 'rejected') {\n    return alert(error);\n  }\n\n  return (\n    <>\n      {status === 'pending' && <Loader />}\n      {status === 'resolved' && (\n        <>\n          <button\n            type=\"button\"\n            onClick={handleGoBack}\n            style={{ margin: '10px', width: '80px', cursor: 'pointer' }}\n          >\n            Back\n          </button>\n          <Movie movie={movie} />\n          <ul className={s.list}>\n            <li className={s.item}>\n              <NavLink\n                className={s.link}\n                to=\"cast\"\n                state={{ from: location.state.from }}\n              >\n                Cast\n              </NavLink>\n            </li>\n            <li className={s.item}>\n              <NavLink\n                className={s.link}\n                to=\"reviews\"\n                state={{ from: location.state.from }}\n              >\n                Reviews\n              </NavLink>\n            </li>\n          </ul>\n        </>\n      )}\n      <Suspense fallback={<Loader />}>\n        <Routes>\n          <Route path=\"cast\" element={<Cast movieId={movieId} />} />\n          <Route path=\"reviews\" element={<Reviews movieId={movieId} />} />\n        </Routes>\n      </Suspense>\n      <Outlet />\n    </>\n  );\n}\n"],"names":["KEY","baseUrl","getTrendingMovies","fetch","then","response","ok","json","Promise","reject","Error","getMovieDetails","id","getCast","getReviews","getMovieByQuery","query","Movie","movie","className","s","src","poster_path","alt","title","release_date","slice","vote_average","overview","genres","map","name","Cast","lazy","Reviews","MovieDetailsPage","useState","setMovie","status","setStatus","error","setError","movieId","useParams","navigate","useNavigate","location","useLocation","useEffect","film","catch","alert","Loader","type","onClick","state","from","style","margin","width","cursor","to","Suspense","fallback","path","element"],"sourceRoot":""}