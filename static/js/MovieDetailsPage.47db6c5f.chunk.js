"use strict";(self.webpackChunkgoit_react_hw_05_movies=self.webpackChunkgoit_react_hw_05_movies||[]).push([[971],{183:function(e,n,t){t.d(n,{Df:function(){return c},TP:function(){return o},IQ:function(){return a},Jh:function(){return s},Ph:function(){return u}});var r="23a6887a211ddc55a1dd6d751fafcbf6",i="https://api.themoviedb.org/3";function c(){return fetch("".concat(i,"/trending/movie/day?api_key=").concat(r)).then((function(e){return e.ok?e.json():Promise.reject(new Error("There is no data!"))}))}function o(e){return fetch("".concat(i,"/movie/").concat(e,"?api_key=").concat(r,"&language=en-US")).then((function(e){return e.ok?e.json():Promise.reject(new Error("There is no data!"))}))}function a(e){return fetch("".concat(i,"/movie/").concat(e,"/credits?api_key=").concat(r,"&language=en-US")).then((function(e){return e.ok?e.json():Promise.reject(new Error("There is no data!"))}))}function s(e){return fetch("".concat(i,"/movie/").concat(e,"/reviews?api_key=").concat(r,"&language=en-US")).then((function(e){return e.ok?e.json():Promise.reject(new Error("There is no data!"))}))}function u(e){return fetch("".concat(i,"/search/movie?api_key=").concat(r,"&language=en-US&page=1&include_adult=false&query=").concat(e)).then((function(e){return e.ok?e.json():Promise.reject(new Error("There is no data!"))}))}},566:function(e,n,t){t.r(n),t.d(n,{default:function(){return g}});var r=t(152),i=t(791),c=t(504),o=t(871),a="MovieDetailsPage_link__GbpAo",s="MovieDetailsPage_list__R9CoZ",u="MovieDetailsPage_item__HuPz6",l=t(139),d={container:"Movie_container__lWqPt",image:"Movie_image__WTy9W",movieInfo:"Movie_movieInfo__j+Jsu"},h=t(184);function m(e){var n=e.movie;return(0,h.jsx)(h.Fragment,{children:(0,h.jsxs)("div",{className:d.container,children:[(0,h.jsx)("div",{className:d.poster,children:(0,h.jsx)("img",{className:d.image,src:n.poster_path?"https://image.tmdb.org/t/p/w300".concat(n.poster_path):"https://dummyimage.com/300x450/c7c7c7/0011ff&text=No+image",alt:n.title})}),(0,h.jsxs)("div",{className:d.movieInfo,children:[(0,h.jsxs)("h2",{children:[n.title," (",n.release_date.slice(0,4),")"]}),(0,h.jsxs)("p",{children:["User Score: ",10*n.vote_average,"%"]}),(0,h.jsx)("h3",{children:"Overview"}),(0,h.jsx)("p",{children:n.overview}),(0,h.jsx)("h4",{children:"Genres"}),(0,h.jsx)("ul",{children:n.genres.map((function(e){var n=e.id,t=e.name;return(0,h.jsx)("li",{children:t},n)}))})]})]})})}var f=t(183),v=t(117),j=(0,v.lazy)((function(){return t.e(709).then(t.bind(t,541))})),_=(0,v.lazy)((function(){return t.e(753).then(t.bind(t,785))}));function g(){var e=(0,i.useState)(null),n=(0,r.Z)(e,2),t=n[0],d=n[1],g=(0,i.useState)("idle"),x=(0,r.Z)(g,2),p=x[0],k=x[1],w=(0,i.useState)(),y=(0,r.Z)(w,2),P=y[0],b=y[1],N=(0,o.UO)().movieId,S=(0,o.s0)(),T=(0,o.TH)();return(0,i.useEffect)((function(){k("pending"),(0,f.TP)(N).then((function(e){d(e),k("resolved")})).catch((function(e){b(e),k("rejected")}))}),[N]),"rejected"===p?alert(P):(0,h.jsxs)(h.Fragment,{children:["pending"===p&&(0,h.jsx)(l.Z,{}),"resolved"===p&&(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)("button",{type:"button",onClick:function(){S("/"),console.log(T)},style:{margin:"10px",width:"80px",cursor:"pointer"},children:"Back"}),(0,h.jsx)(m,{movie:t}),(0,h.jsxs)("ul",{className:s,children:[(0,h.jsx)("li",{className:u,children:(0,h.jsx)(c.OL,{className:a,to:"cast",children:"Cast"})}),(0,h.jsx)("li",{className:u,children:(0,h.jsx)(c.OL,{className:a,to:"reviews",children:"Reviews"})})]})]}),(0,h.jsx)(v.Suspense,{fallback:(0,h.jsx)(l.Z,{}),children:(0,h.jsxs)(o.Z5,{children:[(0,h.jsx)(o.AW,{path:"cast",element:(0,h.jsx)(j,{movieId:N})}),(0,h.jsx)(o.AW,{path:"reviews",element:(0,h.jsx)(_,{movieId:N})})]})})]})}}}]);
//# sourceMappingURL=MovieDetailsPage.47db6c5f.chunk.js.map